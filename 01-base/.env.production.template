# {{PROJECT_NAME}} - 生產環境配置
# ⚠️ 重要: 此文件包含生產環境的敏感信息，請勿提交到版本控制系統

# ============================================
# 應用程式配置
# ============================================

NODE_ENV=production
NEXT_PUBLIC_APP_NAME={{PROJECT_NAME}}
NEXT_PUBLIC_APP_URL=https://your-domain.com

# ============================================
# 數據庫配置
# ============================================

# PostgreSQL (如果選擇)
DATABASE_URL=postgresql://{{DB_USER}}:{{DB_PASSWORD}}@{{DB_HOST}}:5432/{{PROJECT_NAME}}?schema=public&sslmode=require

# MySQL (如果選擇)
# DATABASE_URL=mysql://{{DB_USER}}:{{DB_PASSWORD}}@{{DB_HOST}}:3306/{{PROJECT_NAME}}?sslaccept=strict

# MongoDB (如果選擇)
# DATABASE_URL=mongodb://{{DB_USER}}:{{DB_PASSWORD}}@{{DB_HOST}}:27017/{{PROJECT_NAME}}?authSource=admin&ssl=true

# SQLite (不推薦用於生產環境)
# DATABASE_URL=file:./prod.db

# ============================================
# 認證配置
# ============================================

# NextAuth.js
NEXTAUTH_URL=https://your-domain.com
NEXTAUTH_SECRET={{NEXTAUTH_SECRET}}  # 生成: openssl rand -base64 32

# JWT
JWT_SECRET={{JWT_SECRET}}  # 生成: openssl rand -base64 32
JWT_ACCESS_TOKEN_EXPIRY=15m
JWT_REFRESH_TOKEN_EXPIRY=7d

# ============================================
# Azure AD SSO (如果使用認證模組)
# ============================================

AZURE_AD_CLIENT_ID={{AZURE_AD_CLIENT_ID}}
AZURE_AD_CLIENT_SECRET={{AZURE_AD_CLIENT_SECRET}}
AZURE_AD_TENANT_ID={{AZURE_AD_TENANT_ID}}

# ============================================
# Redis 緩存 (如果使用緩存模組)
# ============================================

REDIS_URL=redis://{{REDIS_HOST}}:6379
REDIS_PASSWORD={{REDIS_PASSWORD}}
REDIS_TLS=true

# ============================================
# AI 集成 (如果使用 AI 模組)
# ============================================

# Azure OpenAI
AZURE_OPENAI_API_KEY={{AZURE_OPENAI_API_KEY}}
AZURE_OPENAI_ENDPOINT=https://{{AZURE_OPENAI_RESOURCE}}.openai.azure.com/
AZURE_OPENAI_API_VERSION=2024-02-15-preview
AZURE_OPENAI_DEPLOYMENT_NAME={{DEPLOYMENT_NAME}}

# OpenAI (替代方案)
# OPENAI_API_KEY={{OPENAI_API_KEY}}

# ============================================
# 郵件服務 (如果使用通知模組)
# ============================================

SMTP_HOST={{SMTP_HOST}}
SMTP_PORT=587
SMTP_USER={{SMTP_USER}}
SMTP_PASSWORD={{SMTP_PASSWORD}}
SMTP_FROM={{SMTP_FROM}}
SMTP_SECURE=true

# ============================================
# 文件存儲 (如果需要)
# ============================================

# Azure Blob Storage
AZURE_STORAGE_ACCOUNT_NAME={{STORAGE_ACCOUNT_NAME}}
AZURE_STORAGE_ACCOUNT_KEY={{STORAGE_ACCOUNT_KEY}}
AZURE_STORAGE_CONTAINER={{STORAGE_CONTAINER}}

# AWS S3 (替代方案)
# AWS_ACCESS_KEY_ID={{AWS_ACCESS_KEY_ID}}
# AWS_SECRET_ACCESS_KEY={{AWS_SECRET_ACCESS_KEY}}
# AWS_REGION={{AWS_REGION}}
# AWS_S3_BUCKET={{AWS_S3_BUCKET}}

# ============================================
# 監控配置
# ============================================

# Azure Monitor / Application Insights
APPLICATIONINSIGHTS_CONNECTION_STRING={{APPLICATIONINSIGHTS_CONNECTION_STRING}}

# Prometheus (如果使用本地監控)
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# ============================================
# Dynamics 365 集成 (如果使用 Dynamics 模組)
# ============================================

DYNAMICS_365_URL={{DYNAMICS_365_URL}}
DYNAMICS_365_CLIENT_ID={{DYNAMICS_365_CLIENT_ID}}
DYNAMICS_365_CLIENT_SECRET={{DYNAMICS_365_CLIENT_SECRET}}
DYNAMICS_365_TENANT_ID={{DYNAMICS_365_TENANT_ID}}

# ============================================
# 向量搜索 (如果使用知識庫模組)
# ============================================

# Azure AI Search
AZURE_SEARCH_ENDPOINT={{AZURE_SEARCH_ENDPOINT}}
AZURE_SEARCH_KEY={{AZURE_SEARCH_KEY}}
AZURE_SEARCH_INDEX={{AZURE_SEARCH_INDEX}}

# ============================================
# 安全配置
# ============================================

# CORS 允許的來源 (逗號分隔)
ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com

# API 速率限制
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=60000

# ============================================
# 日誌配置
# ============================================

LOG_LEVEL=info  # error, warn, info, debug
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs/app.log

# ============================================
# 性能優化
# ============================================

# Next.js
NEXT_TELEMETRY_DISABLED=1
ANALYZE=false

# 圖片優化
NEXT_PUBLIC_IMAGE_DOMAINS=your-domain.com,cdn.your-domain.com

# ============================================
# 功能標誌
# ============================================

FEATURE_AI_ENABLED=true
FEATURE_ANALYTICS_ENABLED=true
FEATURE_NOTIFICATIONS_ENABLED=true

# ============================================
# 第三方服務
# ============================================

# Google Analytics
NEXT_PUBLIC_GA_TRACKING_ID={{GA_TRACKING_ID}}

# Sentry (錯誤追踪)
SENTRY_DSN={{SENTRY_DSN}}
SENTRY_ENVIRONMENT=production

# ============================================
# 部署配置
# ============================================

# Docker
COMPOSE_PROJECT_NAME={{PROJECT_NAME}}

# 健康檢查
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30s

# ============================================
# 備份配置
# ============================================

BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # 每天凌晨2點
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/backups

# ============================================
# 其他配置
# ============================================

# 時區
TZ=Asia/Taipei

# 最大上傳文件大小 (MB)
MAX_FILE_SIZE=20
